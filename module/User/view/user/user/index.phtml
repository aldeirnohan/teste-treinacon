<?php

/**
 * @var Laminas\View\Renderer\PhpRenderer $this
 */

?>

<?php
// module/User/view/user/user/index.phtml:

$title = 'My Users';
$this->headTitle($title);
?>
<h1><?= $this->escapeHtml($title) ?></h1>
<p>
    <a href="<?= $this->url('user', ['action' => 'add']) ?>">Add new user</a>
</p>

<form method="get" action="<?= $this->url('user', ['action' => 'index']) ?>">
    <label for="search">Search:</label>
    <input type="text" name="search" id="search" value="<?= $this->escapeHtml(isset($_GET['search']) ? $_GET['search'] : '') ?>">
    <button type="submit">Search</button>
</form>

<table class="table">
<tr>
    <th>Name</th>
    <th>Email</th>
    <th>&nbsp;</th>
</tr>
<?php foreach ($users as $user) : ?>
    <tr>
        <td><?= $this->escapeHtml($user->getName()) ?></td>
        <td><?= $this->escapeHtml($user->getEmail()) ?></td>
        <td>
            <a href="<?= $this->url('user', ['action' => 'edit', 'id' => $user->getId()]) ?>">Edit</a>
            <a href="<?= $this->url('user', ['action' => 'delete', 'id' => $user->getId()]) ?>">Delete</a>
        </td>
    </tr>
<?php endforeach; ?>
</table>